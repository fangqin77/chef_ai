<view class="page"><block wx:if="{{recommendMode}}"><view class="recom-mask"><view class="recom-card"><image class="recom-cover" src="{{reco&&reco.cover||''}}" mode="aspectFill"></image><view class="recom-info"><text class="recom-name">{{reco&&reco.name||'今日推荐'}}</text><view class="recom-meta"><view class="{{['tag',(reco&&reco.level)==='简单'?'tag-green':'tag-orange']}}">{{reco&&reco.level||'适中'}}</view><text class="time">{{(reco&&reco.time||'--')+"min"}}</text></view></view><view class="recom-actions"><button data-event-opts="{{[['tap',[['cancelRecommend',['$event']]]]]}}" class="btn cancel" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['nextRecommend',['$event']]]]]}}" class="btn change" bindtap="__e">换一个</button></view></view></view></block><view class="header"><text class="title">菜谱大全</text><view data-event-opts="{{[['tap',[['onSearch',['$event']]]]]}}" class="search-btn" bindtap="__e"><text class="icon">🔍</text><text class="label">搜索</text></view></view><scroll-view class="chips" scroll-x="{{true}}"><block wx:for="{{topCats}}" wx:for-item="c" wx:for-index="__i0__" wx:key="key"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({c})}}" class="{{['chip',activeCat===c.key?'active':'']}}" bindtap="__e">{{''+c.name+''}}</view></block><block wx:if="{{$root.g0}}"><view data-event-opts="{{[['tap',[['toggleCats',['$event']]]]]}}" class="chip more" bindtap="__e">···</view></block></scroll-view><block wx:if="{{$root.g1}}"><view class="chips-more"><block wx:for="{{moreCats}}" wx:for-item="c" wx:for-index="__i1__" wx:key="key"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" data-event-params="{{({c})}}" class="{{['chip',activeCat===c.key?'active':'']}}" bindtap="__e">{{''+c.name+''}}</view></block></view></block><view class="grid"><block wx:for="{{filteredList}}" wx:for-item="r" wx:for-index="__i2__" wx:key="id"><view data-event-opts="{{[['tap',[['openRecipe',['$0'],[[['filteredList','id',r.id]]]]]]]}}" class="card" bindtap="__e"><image class="cover" src="{{r.cover}}" mode="aspectFill"></image><view class="info"><text class="name">{{r.name}}</text><view class="meta"><view class="{{['tag',r.level==='简单'?'tag-green':'tag-orange']}}">{{r.level}}</view></view></view></view></block></view><view style="height:24rpx;"></view></view>