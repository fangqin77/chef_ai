<view class="page"><view class="header"><text class="title">ç¾é£Ÿåœˆ</text><text data-event-opts="{{[['tap',[['onCreate',['$event']]]]]}}" class="add" bindtap="__e">ï¼‹</text></view><view class="feed"><block wx:if="{{loading}}"><view class="loading-state"><view class="loading-spinner"></view><text class="loading-text">åŠ è½½ä¸­...</text></view></block><block wx:else><block wx:if="{{$root.g0}}"><view class="empty-state"><image class="empty-icon" src="/static/picture/profile.png" mode="aspectFit"></image><text class="empty-title">æš‚æ— åŠ¨æ€</text><text class="empty-desc">å¿«æ¥å‘å¸ƒç¬¬ä¸€æ¡ç¾é£Ÿåˆ†äº«å§</text><button data-event-opts="{{[['tap',[['onCreate',['$event']]]]]}}" class="empty-btn" bindtap="__e">å‘å¸ƒåŠ¨æ€</button></view></block><block wx:else><block wx:for="{{$root.l2}}" wx:for-item="p" wx:for-index="__i0__" wx:key="id"><view class="{{['post',(p.$orig._highlighted)?'highlighted':'']}}"><view class="post-top"><image class="avatar" src="{{p.$orig.avatar||'/static/picture/profile.png'}}" mode="aspectFill" data-event-opts="{{[['tap',[['goToUserProfile',['$0'],[[['posts','id',p.$orig.id]]]]]]]}}" bindtap="__e"></image><view class="author"><text data-event-opts="{{[['tap',[['goToUserProfile',['$0'],[[['posts','id',p.$orig.id]]]]]]]}}" class="name" bindtap="__e">{{p.$orig.nickname||'ç¾é£Ÿè¾¾äºº'}}</text></view><block wx:if="{{!p.m0}}"><text data-event-opts="{{[['tap',[['toggleMenu',['$0'],[[['posts','id',p.$orig.id]]]]]]]}}" class="more" bindtap="__e">Â·Â·Â·</text></block></view><view class="content"><text class="post-content">{{p.$orig.content}}</text></view><block wx:if="{{p.m1}}"><view class="{{['images','cols-'+p.m2]}}"><block wx:for="{{p.l0}}" wx:for-item="img" wx:for-index="idx" wx:key="idx"><image class="img" src="{{img.m3}}" mode="aspectFill" data-event-opts="{{[['tap',[['e0',['$event']]]],['error',[['onImageError',['$event']]]]]}}" data-event-params="{{({p:p.$orig,idx})}}" bindtap="__e" binderror="__e"></image></block></view></block><block wx:if="{{p.m4}}"><view class="img-footer"><text class="time-badge">{{p.m5}}</text><text data-event-opts="{{[['tap',[['toggleMenu',['$0'],[[['posts','id',p.$orig.id]]]]]]]}}" class="menu-dot" catchtap="__e">Â·Â·Â·</text></view></block><block wx:if="{{p.$orig._menuOpen}}"><view data-event-opts="{{[['tap',[['closeOverlayFor',['$0'],[[['posts','id',p.$orig.id]]]]]]]}}" class="menu-mask" bindtap="__e"></view></block><block wx:if="{{p.$orig._menuOpen}}"><view class="actions-menu"><view data-event-opts="{{[['tap',[['toggleLike',['$0'],[[['posts','id',p.$orig.id]]]]]]]}}" class="am-item" bindtap="__e"><text class="{{['heart',p.$orig.liked?'liked':'']}}">â¤</text><text>{{(p.$orig.liked?'å–æ¶ˆæ”¶è—':'æ”¶è—')+"ï¼ˆ"+p.$orig.likes+"ï¼‰"}}</text></view><view data-event-opts="{{[['tap',[['focusComment',['$0'],[[['posts','id',p.$orig.id]]]]]]]}}" class="am-item" bindtap="__e"><text>ğŸ’¬</text><text>{{"è¯„è®ºï¼ˆ"+p.m6+"ï¼‰"}}</text></view><view data-event-opts="{{[['tap',[['share',['$0'],[[['posts','id',p.$orig.id]]]]]]]}}" class="am-item" bindtap="__e"><text>ğŸ”—</text><text>åˆ†äº«</text></view></view></block><view class="comments"><block wx:if="{{p.g1}}"><view class="c-list"><block wx:for="{{p.l1}}" wx:for-item="c" wx:for-index="i" wx:key="i"><view class="c-item"><text class="c-name">{{c.name+"ï¼š"}}</text><text class="c-text">{{c.text}}</text><text class="c-time">{{c.time}}</text></view></block></view></block><block wx:if="{{p.$orig._commenting}}"><view class="c-input compact"><input class="input compact" focus="{{focusMap[p.$orig.id]}}" placeholder="{{'è¯„è®º @'+(p.$orig.nickname||'ç¾é£Ÿè¾¾äºº')}}" data-event-opts="{{[['confirm',[['submitComment',['$0'],[[['posts','id',p.$orig.id]]]]]],['blur',[['endComment',['$0'],[[['posts','id',p.$orig.id]]]]]],['input',[['__set_model',['$0','$1','$event',[]],['inputMap',[['posts','id',p.$orig.id,'id']]]]]]]}}" value="{{inputMap[p.$orig.id]}}" bindconfirm="__e" bindblur="__e" bindinput="__e"/><button data-event-opts="{{[['tap',[['handleSendComment',['$0'],[[['posts','id',p.$orig.id]]]]]],['tap',[['handleSendComment',['$0'],[[['posts','id',p.$orig.id]]]]]]]}}" class="btn micro" style="z-index:1000;position:relative;" bindtap="__e">å‘é€</button></view></block></view></view></block></block></block></view><block wx:if="{{anyOverlayOpen}}"><view data-event-opts="{{[['tap',[['closeAllOverlays',['$event']]]]]}}" class="page-mask" bindtap="__e"></view></block><view style="height:24rpx;"></view></view>