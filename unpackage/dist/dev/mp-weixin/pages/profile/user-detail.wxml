<view class="page"><view class="header"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn" bindtap="__e"><text class="back-icon">â€¹</text><text class="back-text">è¿”å›</text></view><text class="title">ç”¨æˆ·ç®€ä»‹</text><view class="placeholder"></view></view><view class="user-card"><view class="user-info"><image class="avatar" src="{{userInfo.avatar||'/static/picture/profile.png'}}" mode="aspectFill" data-event-opts="{{[['error',[['onAvatarError',['$event']]]]]}}" binderror="__e"></image><view class="user-details"><text class="username">{{userInfo.name||'ç¾é£Ÿè¾¾äºº'}}</text><text class="bio">{{userInfo.bio||'è¿™ä¸ªäººå¾ˆæ‡’ï¼Œè¿˜æ²¡æœ‰å†™ç®€ä»‹~'}}</text></view></view><view class="stats"><view data-event-opts="{{[['tap',[['showFollowList',['$event']]]]]}}" class="stat-item" bindtap="__e"><text class="stat-number">{{userInfo.followCount||0}}</text><text class="stat-label">å…³æ³¨</text></view><view class="divider"></view><view data-event-opts="{{[['tap',[['showFansList',['$event']]]]]}}" class="stat-item" bindtap="__e"><text class="stat-number">{{userInfo.fansCount||0}}</text><text class="stat-label">ç²‰ä¸</text></view><view class="divider"></view><view data-event-opts="{{[['tap',[['showLikesList',['$event']]]]]}}" class="stat-item" bindtap="__e"><text class="stat-number">{{userInfo.likeCount||0}}</text><text class="stat-label">è·èµ</text></view></view><block wx:if="{{!isCurrentUser}}"><view class="actions"><button data-event-opts="{{[['tap',[['toggleFollow',['$event']]]]]}}" class="{{['follow-btn',(userInfo.isFollowed)?'followed':'']}}" bindtap="__e">{{''+(userInfo.isFollowed?'å·²å…³æ³¨':'å…³æ³¨')+''}}</button><button data-event-opts="{{[['tap',[['sendMessage',['$event']]]]]}}" class="message-btn" bindtap="__e">ç§ä¿¡</button></view></block></view><view class="posts-section"><view class="section-title"><text class="title-text">ä½œå“åˆ—è¡¨</text><text class="posts-count">{{"("+$root.g0+")"}}</text></view><block wx:if="{{loading}}"><view class="loading-state"><view class="loading-spinner"></view><text class="loading-text">åŠ è½½ä¸­...</text></view></block><block wx:else><block wx:if="{{$root.g1}}"><view class="empty-state"><image class="empty-icon" src="/static/picture/profile.png" mode="aspectFit"></image><text class="empty-title">æš‚æ— ä½œå“</text><text class="empty-desc">è¿™ä¸ªç”¨æˆ·è¿˜æ²¡æœ‰å‘å¸ƒä»»ä½•ä½œå“</text></view></block><block wx:else><view class="posts-list"><block wx:for="{{$root.l1}}" wx:for-item="post" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['viewPostDetail',['$0'],[[['posts','id',post.$orig.id]]]]]]]}}" class="post-item" bindtap="__e"><view class="post-content"><text class="post-text">{{post.$orig.content||'æ— æ–‡å­—å†…å®¹'}}</text></view><block wx:if="{{post.m0}}"><view class="{{['post-images','cols-'+post.m1]}}"><block wx:for="{{post.l0}}" wx:for-item="img" wx:for-index="idx" wx:key="idx"><image class="post-image" src="{{img.m2}}" mode="aspectFill" data-event-opts="{{[['error',[['onImageError',['$event']]]]]}}" binderror="__e"></image></block></view></block><view class="post-info"><text class="post-time">{{post.m3}}</text><view class="post-stats"><view class="stat"><text class="{{['heart-icon',(post.$orig.liked)?'liked':'']}}">â¤</text><text class="stat-count">{{post.$orig.likes||0}}</text></view><view class="stat"><text class="comment-icon">ğŸ’¬</text><text class="stat-count">{{post.m4}}</text></view></view></view></view></block></view></block></block></view><view style="height:40rpx;"></view></view>